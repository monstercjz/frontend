/* === Search Form Styles - 搜索表单样式 === */
/* 作用：组织和导入搜索表单相关的子模块样式。 */
/* 依赖： search-form 子模块 */
/* Search Form Styles - Main module - imports sub-modules */
/* Search Container Base Styles - 搜索框容器基础样式 */
/*
  定义搜索框 (search-form) 组件的基础布局和结构样式。
  包括搜索框容器、图标和输入框的基础样式，不包含主题、颜色或状态相关的样式。
  此文件专注于布局和结构，不涉及颜色、主题或状态变化。
*/

/* ==========================================================================
   搜索框容器
   ========================================================================== */
.search-form {
  position: fixed;
  /* 使用 fixed 定位，使其脱离文档流，固定在页面视口特定位置 */
  top: calc(var(--spacing-inset-lg) + 48px);
  /* 距离顶部一定距离，考虑 header 元素的高度 (48px) */
  right: max(var(--spacing-inset-md),
      calc((93% - var(--size-websitedashboard-max-width)) / 2));
  /* 靠右对齐：
         - 至少保持中等内边距 (--spacing-inset-md)
         - 并且当屏幕宽度超过网站仪表盘最大宽度时，保持居中对齐
       */
  display: flex;
  /* 使用 flex 布局，方便内部元素对齐 */
  align-items: center;
  /* 垂直居中对齐图标和输入框 */
  height: 40px;
  /* 设置搜索框整体高度为 40px */
  z-index: 1;
  /* 设置 z-index，确保搜索框在其他元素之上，避免被遮挡 */
}

/* ==========================================================================
     搜索框图标
     ========================================================================== */
.search-form__icon {
  display: flex;
  /* 使用 flex 布局，使其内部图标可以灵活居中 */
  align-items: center;
  /* 垂直居中图标 */
  justify-content: center;
  /* 水平居中图标 */
  width: 40px;
  /* 设置图标容器宽度为 40px */
  height: 40px;
  /* 设置图标容器高度为 40px，与搜索框高度一致 */
  border-radius: var(--radius-md);
  /* 设置图标容器的圆角，使其外观更柔和 */
  z-index: 2;
  /* 设置 z-index，确保图标在输入框之上（在视觉上，实际层叠关系由 HTML 结构决定） */
}

/* ==========================================================================
     搜索框输入框
     ========================================================================== */
.search-form__input {
  position: absolute;
  /* 使用 absolute 定位，相对于 .search-form 容器进行定位 */
  right: 40px;
  /* 初始位置在图标右侧，留出图标显示空间 */
  width: 0;
  /* 初始宽度为 0，配合 JavaScript 实现展开/收起效果 */
  height: 40px;
  /* 设置输入框高度为 40px，与搜索框和图标高度一致 */
  padding: 0;
  /* 移除默认内边距，初始状态不显示输入框内容区域 */
  border-radius: var(--radius-md);
  /* 设置输入框的圆角，与图标容器保持一致 */
  border: 1px solid var(--border-normal);
  /* 设置输入框边框样式，使用 CSS 变量保持主题一致性 */
  /* 可以考虑添加 overflow: hidden; 或 overflow-y: auto;  来处理潜在的内容溢出，
       但通常搜索框输入内容溢出不是主要问题，此处作为建议保留，根据实际需求决定是否添加 */
}

/* Search Form Theme Styles - 搜索框主题样式 */
/*
  定义搜索框 (search-form) 组件的视觉主题样式。
  包括图标颜色、输入框背景色、文字颜色、边框颜色等，使用 CSS 变量进行主题化配置。
*/
/* 深色主题下的搜索框图标 SVG 样式 */
[data-theme="dark"] .search-form__icon svg circle,
[data-theme="dark"] .search-form__icon svg line {
  stroke: #333;
  /* 深色主题下 SVG 描边颜色 */
}

/* 深色主题下的搜索框图标 Hover 状态 SVG 样式 */
[data-theme="dark"] .search-form__icon:hover svg circle,
[data-theme="dark"] .search-form__icon:hover svg line {
  stroke: #555;
  /* 深色主题下 Hover 状态 SVG 描边颜色 */
}

/* 搜索框图标主题 */
.search-form__icon {
  /* background-color: var(--background-body); */
  /* 设置背景色为 surface color CSS 变量 */
}

/* 搜索框输入框主题 */
.search-form__input {
  background-color: var(--background-card);
  /* 设置背景色为 surface color CSS 变量 */
  color: var(--text-primary);
  /* 设置文字颜色为 primary text color CSS 变量 */
  border-color: var(--border-normal);
  /* 设置边框颜色为 border color CSS 变量 */
}

/* Search Form Variants Styles - 搜索框变体样式 */
/*
  定义搜索框 (search-form) 组件的变体样式和功能扩展。
  例如不同尺寸、不同功能的搜索框样式。
*/

/* 搜索框输入框初始状态 - 隐藏 */
.search-form__input {
  opacity: 0;
  /* 初始状态透明度为 0 */
}

/* Search Form States Styles - 搜索框状态样式 */
/*
  定义搜索框 (search-form) 组件在不同状态下的样式，
  例如 focus, expanded 等交互和状态样式。
*/
/* 搜索框图标 */
.search-form__icon {
  cursor: pointer;
  /* 设置鼠标指针为 pointer */
}

/* 输入框 Focus 状态 */
.search-form__input:focus {
  outline: none;
  /* 移除默认 outline */
  border-color: var(--action-primary);
  /* Focus 状态边框颜色 */
  box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
  /* Focus 状态阴影 */
}

/* 搜索框展开状态 */
.search-form.expanded .search-form__input {
  width: var(--size-search-input-width);
  /* 展开状态宽度 */
  padding: 0 var(--spacing-inset-xl) 0 var(--spacing-inset-md);
  /* 展开状态内边距 */
  margin-right: var(--spacing-stack-xs);
  /* 让search-input展开状态的右边缘与search-icon的左边缘，稍微保留一点距离 */
  opacity: 1;
  /* 展开状态透明度为 1 */
  box-shadow: var(--shadow-md);
  /* 展开状态阴影 */
  pointer-events: auto;
  /* 展开状态允许 pointer 事件 */
}

/* 搜索框图标展开状态 */
.search-form.expanded .search-form__icon {
  box-shadow: var(--shadow-md);
  /* 展开状态图标阴影 */
}

/* Search Form Animations Styles - 搜索框动画样式 */
/*
  定义搜索框 (search-form) 组件的动画和过渡效果。
  例如搜索框展开/收起时的动画效果。
*/

/* 搜索框容器 */
.search-form {
  will-change: transform;
  transition: all var(--transition-normal);
  /* 添加过渡效果 */
}